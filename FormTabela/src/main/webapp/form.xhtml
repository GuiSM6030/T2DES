<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	lang="pt-br">
	
<h:head>
	<meta http-equi="Content=Type" content="text/html; charset=ISO-8859-1"/>
	<title>Cassino</title>
</h:head>
<body>

<!-- Chama o CSS -->
<h:outputStylesheet library = "css" name ="styles.css"/> 


<!-- Cabeçalho -->
<table width="100%" border="1">
		<tr>
			<td align="center"><h:graphicImage library="IMG" name="cassino.jpeg" width="500px" ></h:graphicImage></td>
		</tr>
</table>
	<h:form id="f" styleClass="form">
	
	
	<!-- Parte do Fomrulário -->
	<h:panelGroup>
	<h:panelGrid>
	
	<h:column>
	<h:outputText value="Data do jogo:"></h:outputText>
	<br/>
	<h:inputText value="#{tabela.date}" id="data"  required="*"></h:inputText>
	</h:column>
	
	<h:column>
	<h:outputText value="Jogo"></h:outputText>
	<br/>
	<h:inputText value="#{tabela.desc}" id="descricao" required="*"></h:inputText>
	</h:column>
	
	<h:column>
	<h:outputText value="Valor:"></h:outputText>
	<br/>
	<h:inputText value="#{tabela.valor}" id="valor" required="*"></h:inputText>
	</h:column>
	<!-- Fim do Form -->
	
	<!-- Botão que coloca as coisas do fomrulário para a tabela -->	
	<h:commandButton value="Inserir" action="#{tabela.inserir(tabela.date,tabela.desc,tabela.valor)}" onclick="return verificarCampos()"></h:commandButton>
	</h:panelGrid>
	</h:panelGroup>
	
	
	<h:panelGroup rendered="#{tabela.back == true }">
	<!-- Tabela com as info. do fomrulário -->
		<table>
			
			<tr>
			<th class="cabecalho" colspan="5" >
			Cadastros do Cassino
			</th>
			</tr>
			<tr>
			<th class="cabecalho">ID</th>
			<th class="cabecalho">Data do jogo</th>
			<th class="cabecalho">Jogo</th>
			<th class="cabecalho">Valor da aposta</th>
			<th class="cabecalho">Operação</th>			
			</tr>
			<ui:repeat value="#{tabela.despesas}" var="d" varStatus="st">
			
		<tr>
		
			<!-- ID da posição das linhas da tabela -->
				<td class="colNumero" colspan="1">#{st.index +1}</td>
				
				
				<!-- Puxa as info. do form -->
				<td class="colData" colspan="1">
				<h:outputText value ="#{d.data}" rendered = "#{!d.edit}"/>
				<h:inputText value ="#{d.data}" rendered = "#{d.edit}"/>
				</td>
				
				<td class="colDesc">
				<h:outputText value ="#{d.descricao}" rendered = "#{!d.edit}"/>
				<h:inputText value ="#{d.descricao}" rendered = "#{d.edit}"/></td>
				
				<td class="colValor">
				<h:outputText value ="#{d.valor}" rendered = "#{!d.edit}">
				<f:convertNumber type="currency" locale = "pt_BR"> </f:convertNumber>
				</h:outputText>
				<h:inputText value ="#{d.valor}" rendered = "#{d.edit}"/>
				</td>
				<td class="colOp">
				
				<!-- Coluna da Tabela que dá a opção de salvar(gravar), assim que algo é colocado na tabela, altera ou editar, quando a informação já esta salva -->
				<h:panelGroup rendered="#{!d.edit}">
				<h:commandLink value="Alterar" action="#{tabela.editar(d)}"></h:commandLink>
				<h:commandLink value="Excluir" action="#{tabela.excluir(d)}"></h:commandLink>
				</h:panelGroup>
				<h:commandLink value="Gravar" action="#{tabela.gravar(d)}" rendered= "#{d.edit}"></h:commandLink>
				</td>
		
		
		</tr>
			</ui:repeat>
			
		</table>
		</h:panelGroup>
		<br/>
		
		<!-- Mostra antes da tabela ser criada, quando não há dados inseridos -->
		<h:panelGroup rendered="#{tabela.despesas.size()==0}">
		<h:outputText value="Nenhum usuário cadastrado" styleClass="Message"></h:outputText>
		</h:panelGroup>
	</h:form>

	
	<!-- Rodapé -->	
	<table width="100%" border="1">
		<tr>
			<td align="center">Todos os direitos reservados</td>
			
		</tr>
	</table>
	
	<script type="text/javascript">
		
		function verificarCampos(){
		var data = document.getElementById("f:data").value;
		var descricao = document.getElementById("f:descricao").value;
		var valor = document.getElementById("f:valor").value;
		if(data ==""){
			alert("Data não Prechida");
			return false;
			
		}else{
			if(descricao ==""){
				alert("Descrição não Prenchido");
				return false;
			}else{
				
				if(valor ==""){
				alert("Valor não prencida ");
				return false;}

			}
			}
		return true;
	}
	</script>

</body>
</html>